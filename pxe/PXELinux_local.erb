<%#
kind: PXELinux
name: PXELinux default local boot
%>

<%# This template has special name (do not change it) and it is used for booting already provisioned hosts. %>
<%
  NFSROOT_HOSTGROUPS = [
    'base/rw/owens',
  ]
-%>
DEFAULT menu
PROMPT 0
MENU TITLE PXE Menu
TIMEOUT 200
TOTALTIMEOUT 6000
<% if @host.hostgroup.present? && NFSROOT_HOSTGROUPS.include? @host.hostgroup.to_s -%>
ONTIMEOUT nfsroot
<% else -%>
ONTIMEOUT local
<% end -%>

<%= snippet "OSC - PXELinux NFS root" %>

LABEL local
     MENU LABEL (local)
     MENU DEFAULT
     LOCALBOOT 0
<%= snippet "OSC - PXELinux shared" %>
